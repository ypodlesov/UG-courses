# Управляющие конструкции

## Оператор if-else

Оператор **if-else** является одним из способов ветвления программы при помощи условий. Синтаксис:

```c
if (выражение)
    оператор1;
else 
    оператор2;
```

При этом вторую часть (`else`) можно опустить. Смысл следующий - если выражение имеет истинное значение, то выполняется 
`оператор1` иначе `оператор2`. Если одного оператора недостаточно, то можно воспользоваться фигурными скобками, 
например так:

```c
int a;
scanf("%d", &a);
if (a < 10) {
    printf("a < 10, so do a + 5\n");
    a += 5;
} else {
    printf("a >= 10, so do a - 5");
    a -= 5;
}
```

Существует вариация **if-else** следующего вида:

```c
int a;
scanf("%d", &a);
if (a < 10) {
    printf("a < 10, so do a + 5\n");
    a += 5;
} else if (a >= 10 && a < 20) {
    printf("a >= 10 and a < 20, so do a - 5\n");
    a -= 5;
} else {
    printf("a >= 20, so do nothing!\n");
}
```

Стоит отметить, что условные операторы **if-else** можно вкладывать друг в друга, то есть валидна конструкция:

```c
if (a < 10) {
    if (a >= 5) {
        printf("a >= 5 and a < 10\n");
    } else if (a > 0) {
        printf("a < 5 and a != 0\n");
    } else {
        printf("a == 0\n");
    }
} else {
    if (a < 20) {
        printf("a >= 10 and a < 20\n");
    } else {
        printf("a >= 20\n");
    }
}
```

## Оператор switch

Оператор **switch** используется для выбора одного из нескольких вариантов действий в зависимости от того, с какой из
набора целочисленных констант совпадает значение некоторого выражения. В зависимости от найденного соответствия 
выполняется ветвление программы.

```c
switch (выражение) {
    case константное выражение: 
        операторы
    case константное выражение:
        операторы
    ...
    default:
        операторы
}
```

***Константное выражение*** значит выражение, которое может быть вычислено до стадии выполнения. Если одна из меток 
совпадает со значением ***выражения***, управление передаётс операторам после этой метки. Все выражения после **case** должны быть различными. Блок **default** необязателен, он выполняется в том случае, если не найдено ни одного соответствия в блоках **case**. Блоки **case** и **default** могут следовать в любом порядке. 

Приведём пример:

```c
int a = 5;
switch (a) {
    case 1:
        printf("a = 1\n");
    case 9:
        printf("a = 9\n");
    case 5:
        printf("a = 5\n");
    case 7: 
        printf("a = 7\n");
    default:
        printf("no values\n");
}
```

Программа выведет следующее (почему?):

```console
a = 5
a = 7
no values
```

Чтобы выполнялся только тот блок операторов, который соответсвует некоторому **case** нужно воспользоваться оператором **break**. Перепеишем программу надлежащим образом:

```c
int a = 5;
switch (a) {
    case 1:
        printf("a = 1\n");
        break;
    case 9:
        printf("a = 9\n");
        break;
    case 5:
        printf("a = 5\n");
        break;
    case 7: 
        printf("a = 7\n");
        break;
    default:
        printf("no values\n");
        break;
}
```

Хотя последний **break** в **default** можно было не писать (почему?). 

## Циклы - while и for 

Цикл **while** устроен следующим образом

```c
while (выражение)
    оператор
```

Вначале вычисляется ***выражение***. Если оно истинно, то выполняется ***оператор***, а затем ***выражение*** вычисляется снова. Это продолжается до того момента пока ***выражение*** не станет ложным. Оператор **for** имеет следующее устройство. 

```c
for (выраж1; выраж2; выраж3) 
    оператор
```

- ***выраж1*** - инициализация цикла
- ***выраж2*** - условие
- ***выраж3*** - инкремент

Эта конструкция эквивалентна следующей

```c
выраж1;
while (выраж2) {
    оператор;
    выраж3;
}
```

В цикле **for** можно опустить любую из частей. Например, код ниже абсолютно валидный:

```c
for (;;) {
    ...
}
```

При этом условие считается истинным всегда. 

Проиллюстрируем цикл **for** следующей программой

```c
int sum = 0;
for (int i = 1; i <= 100; ++i) {
    sum += (i % 7) ? i : 0;
}
```

Эта программа считает сумму всех чисел кратных 7 от 1 до 100 

## Циклы - do-while

Циклы **while** и **for** выполняют проверку условия вначале. В противоположность им третий вид циклов в **C** - конструкция **do-while** - проверяети условие в конце, после выполнения тела цикла. То есть тело цикла выполнится как минимум один раз. 

```c
do
    оператор
while (выражение);
```

Несмотря на то, что **do-while** используется гораздо реже, чем "классические" циклы **for** и **while**, он может быть полезен. 

## Операторы break и continue

Иногда бывает удобно выйти из цикла другим способом отличным от проверки условия в его начале или в конце. Для этого есть оператор **break**, который осуществляет выход из "ближайшего цикла". Рассмотрим на примере:

```c
for (int i = 1; i <= 10; ++i) {
    for (int j = 1; j <= 10; ++j) {
        int res = (i - 1) * 10 + j;
        printf("%d ", res);
        if (res == 7) {
            break;
        }
    }
    printf("\n");
}
```

Вывод данной программы будет следующим:

```console
1 2 3 4 5 6 7 
11 12 13 14 
21 
31 32 33 34 35 
41 42 
51 52 53 54 55 56 
61 62 63 
71 72 73 74 75 76 77 
81 82 83 84 
91 
```

То есть каждый раз дойдя в строке до превого числа кратного 7, мы останавливаемся и переходим на следующую строку. 

Также стоит упомянуть оператор **continue**, который обеспечивает переход к следующей итерации с соответствующим инкрементированием (в случае цикла **for**) и проверкой условия.

Например

```c
for (int i = 1; i <= 100; ++i) {
    if (i % 13) {
        continue;
    }
    printf("%d\n", i);
}
```

Программа выводит на консоль все числа кратные 13. Вывод следующий: 

```console
13
26
39
52
65
78
91
```

**break** и **continue** называются операторами перехода. К ним также относится оператор **goto**, но его крайне не рекомендуется употреблять в общем, и много где запрещается вовсе.



































